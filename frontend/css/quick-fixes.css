/* ============================================================
   QUICK FIXES - Arreglos urgentes de UX
   ============================================================ */

/* ============================================================
   1. FIX HEADINGS DEL SIDEBAR - Texto visible
   ============================================================ */
.sidebar .sidebar-heading {
    color: #6c757d !important; /* Gris visible sobre blanco */
    font-weight: 600;
}

.sidebar .sidebar-heading span {
    color: #6c757d !important;
}

/* ============================================================
   2. FIX KPI CARDS DASHBOARD - Sin gradients feos
   ============================================================ */

/* Remover gradients de KPI cards, usar colores sólidos suaves */
.kpi-card.card-gradient-success {
    background: #d1e7dd !important; /* Verde suave */
}

.kpi-card.card-gradient-success .kpi-value,
.kpi-card.card-gradient-success .kpi-label {
    color: #0f5132 !important; /* Verde oscuro para texto */
}

.kpi-card.card-gradient-warning {
    background: #fff3cd !important; /* Amarillo suave */
}

.kpi-card.card-gradient-warning .kpi-value,
.kpi-card.card-gradient-warning .kpi-label {
    color: #664d03 !important; /* Texto oscuro */
}

.kpi-card.card-gradient-info {
    background: #cfe2ff !important; /* Azul suave */
}

.kpi-card.card-gradient-info .kpi-value,
.kpi-card.card-gradient-info .kpi-label {
    color: #084298 !important; /* Azul oscuro */
}

.kpi-card.card-gradient-primary {
    background: #d1e7dd !important; /* Verde suave */
}

.kpi-card.card-gradient-primary .kpi-value,
.kpi-card.card-gradient-primary .kpi-label {
    color: #0f5132 !important; /* Verde oscuro */
}

/* Iconos de KPI */
.kpi-card .kpi-icon {
    background: white !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* ============================================================
   3. FIX SIDEBAR - Asegurar que funcione
   ============================================================ */

/* Forzar sidebar visible inicialmente en desktop */
@media (min-width: 768px) {
    .sidebar {
        display: block !important;
        width: var(--sidebar-width-collapsed, 70px);
    }
}

/* Asegurar que el main no se oculte */
main {
    margin-left: 70px !important;
    width: calc(100% - 70px) !important;
    transition: all 0.3s ease-in-out;
}

@media (max-width: 767px) {
    main {
        margin-left: 0 !important;
        width: 100% !important;
    }
}

/* Cuando sidebar está expandido/pinned */
.sidebar.pinned ~ .container-fluid main,
.sidebar:hover ~ .container-fluid main {
    margin-left: 250px !important;
    width: calc(100% - 250px) !important;
}

/* ============================================================
   4. FIX NAV LINKS - Mejor contraste
   ============================================================ */

.sidebar .nav-link {
    color: #212529 !important; /* Negro para mejor legibilidad */
}

.sidebar .nav-link:hover {
    background-color: rgba(25, 135, 84, 0.1) !important;
    color: var(--cielito-primary) !important;
}

/* Link activo - Verde con buen contraste */
.sidebar .nav-link.active {
    background: var(--cielito-primary) !important;
    color: white !important;
}

/* ============================================================
   5. ASEGURAR VISIBILIDAD EN TODOS LOS ESTADOS
   ============================================================ */

/* Iconos siempre visibles */
.sidebar .nav-link i {
    color: inherit !important;
    opacity: 1 !important;
}

/* Texto de los links */
.sidebar .nav-link span {
    color: inherit !important;
}

/* ============================================================
   6. FIX BOTÓN PIN - Siempre visible
   ============================================================ */
.sidebar-toggle-pin {
    opacity: 1 !important;
    display: block !important;
}

/* ============================================================
   7. ASEGURAR QUE SIDEBAR NO SE OCULTE POR ERROR
   ============================================================ */
.sidebar {
    visibility: visible !important;
    opacity: 1 !important;
}

/* ============================================================
   8. FIX RESPONSIVE - Sidebar en mobile
   ============================================================ */
@media (max-width: 767px) {
    .sidebar {
        left: -250px !important;
        width: 250px !important;
    }

    .sidebar.show {
        left: 0 !important;
    }
}
